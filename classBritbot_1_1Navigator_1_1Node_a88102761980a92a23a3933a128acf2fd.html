<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Britbot: Britbot::Navigator::Node::UpdateMap</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Britbot
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceBritbot.html">Britbot</a>      </li>
      <li class="navelem"><a class="el" href="classBritbot_1_1Navigator.html">Navigator</a>      </li>
      <li class="navelem"><a class="el" href="classBritbot_1_1Navigator_1_1Node.html">Node</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a38291e6d242fac0469fae5ee44b09897.html#a38291e6d242fac0469fae5ee44b09897">BlockLocation</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a9e7caf9ba41b164df61146e3293f4365.html#a9e7caf9ba41b164df61146e3293f4365">CalculateEnemyWeight</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a555141c69db40690c6f62864e30c5c92.html#a555141c69db40690c6f62864e30c5c92">DebugPasses</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_aa7782897ba75f10f8a0faf9234bb2add.html#aa7782897ba75f10f8a0faf9234bb2add">EuclidianHuristic</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a67a3768d7cd360df39c00c079f4b5b99.html#a67a3768d7cd360df39c00c079f4b5b99">F</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_ac9c4f2b09a3123ede2c9132427764800.html#ac9c4f2b09a3123ede2c9132427764800">G</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a3f7b39db3d28c28429cb68639599a773.html#a3f7b39db3d28c28429cb68639599a773">GetLocationNodeFromMap</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a430b9741bb43e72fd6e0afcfad8a6fe1.html#a430b9741bb43e72fd6e0afcfad8a6fe1">GetNeighbors</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_ad9aa625f0685c2c43366091ae18339e5.html#ad9aa625f0685c2c43366091ae18339e5">H</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a718adceaf51af3b0815f7db3418fbade.html#a718adceaf51af3b0815f7db3418fbade">HuristicFunction</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a3f767c6bb79fea187ed65edb21ea4117.html#a3f767c6bb79fea187ed65edb21ea4117">Infinity</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a39f7612cac07f1f44a61eb94a2ceaee0.html#a39f7612cac07f1f44a61eb94a2ceaee0">IsEvaluated</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_ab9ab6bee7ccde0f4904af8b78153423e.html#ab9ab6bee7ccde0f4904af8b78153423e">IsPassable</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_aa2b86c3db35f398b37cf0fac5e17335e.html#aa2b86c3db35f398b37cf0fac5e17335e">Loc</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a08a816480feeed6005d6e32cccb38e3f.html#a08a816480feeed6005d6e32cccb38e3f">Map</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8">Node</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a2ce38f6f4726794bd65e03144dda567a.html#a2ce38f6f4726794bd65e03144dda567a">SetUpCalculation</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="classBritbot_1_1Navigator_1_1Node_a88102761980a92a23a3933a128acf2fd.html#a88102761980a92a23a3933a128acf2fd">UpdateMap</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="classBritbot_1_1Navigator_1_1Node_a7f8a316ec76290c5e838255d57da9254.html#a7f8a316ec76290c5e838255d57da9254">Weight</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="a88102761980a92a23a3933a128acf2fd"></a><!-- doxytag: member="Britbot::Navigator::Node::UpdateMap" ref="a88102761980a92a23a3933a128acf2fd" args="(Group group)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classBritbot_1_1Navigator_1_1Node_a88102761980a92a23a3933a128acf2fd.html#a88102761980a92a23a3933a128acf2fd">Britbot.Navigator.Node.UpdateMap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBritbot_1_1Group.html">Group</a>&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function should be called ONCE PER GROUP in the CalculatePriorities function it updates the map data based on the current game state it sets what areas are passable and what are dangerous. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>the group we update the map for</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Node_8cs_source.html#l00102">102</a> of file <a class="el" href="Node_8cs_source.html">Node.cs</a>.</p>
<div class="fragment"><pre class="fragment">            {
                <span class="comment">//reading board size</span>
                <span class="keywordtype">int</span> cols = Bot.Game.GetCols();
                <span class="keywordtype">int</span> rows = Bot.Game.GetRows();

                <span class="comment">//get the radius of the group</span>

                <span class="comment">//go over the entire map, set locations and their wight</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; cols; x++)
                {
                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; rows; y++)
                    {
                        <span class="comment">//check if this is passable</span>
                        <span class="comment">//if (!Bot.Game.IsPassableEnough(Node.Map[y, x].Loc, groupRadius))</span>
                        <span class="keywordflow">if</span> (!Bot.Game.IsPassableEnough(<a class="code" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8" title="One time initializing of the Node array.">Node</a>.Map[y, x].Loc, group))
                        {
                            <span class="comment">//set the weight of the node to &quot;infinity&quot;</span>
                            <a class="code" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8" title="One time initializing of the Node array.">Node</a>.Map[y, x].Weight = <a class="code" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8" title="One time initializing of the Node array.">Node</a>.Infinity;

                            <span class="comment">//if so then we are finished here, move to next Node</span>
                            <span class="keywordflow">continue</span>;
                        }

                        <span class="comment">// Node.Map[y, x].Weight = Node.CalcEnemyFactor(Node.Map[y, x].Loc, groupStrength);</span>
                        <a class="code" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8" title="One time initializing of the Node array.">Node</a>.Map[y, x].Weight = 1;
                        <span class="comment">//now set the wight based on enemyGroups</span>
                        <span class="comment">//double enemyFactor = Node.CalcEnemyFactor(Node.Map[y, x].Loc, groupStrength);</span>
                    }
                }
                <span class="comment">//update enemy threat</span>

                <a class="code" href="classBritbot_1_1Navigator_1_1Node_a3140d5183fdc64f7d4336b46d13ad0f8.html#a3140d5183fdc64f7d4336b46d13ad0f8" title="One time initializing of the Node array.">Node</a>.CalculateEnemyWeight(group.FightCount());

                <span class="comment">//TODO: update also friendly location</span>
            }
</pre></div>
</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 22 2015 11:07:52 for Britbot by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
